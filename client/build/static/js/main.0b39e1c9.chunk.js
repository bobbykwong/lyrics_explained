(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,a){},44:function(e,t,a){e.exports=a(59)},49:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),l=a.n(c),i=(a(49),a(4)),s=(a(29),a(10)),o=a(13),m=a(24),u=a(7),d=a(6),v=a(19);function b(){var e=Object(v.a)(["\n    mutation($likes: Int! $id: Int!) {\n        updateLikes(likes: $likes, id: $id){\n            likes\n            id\n        }\n    }\n"]);return b=function(){return e},e}function E(){var e=Object(v.a)(["\n    mutation($content: String!, $likes: Int! $verse_id: Int!) {\n        addInterpretation(content: $content, likes: $likes, verse_id: $verse_id){\n            content\n            likes\n            id\n        }\n    }\n"]);return E=function(){return e},e}function f(){var e=Object(v.a)(["\n    mutation($content: String!, $position: Int!, $song_id: Int!) {\n        addVerse(content: $content, position: $position, song_id: $song_id){\n            content\n            position\n            id\n        }\n    }\n"]);return f=function(){return e},e}function g(){var e=Object(v.a)(["\n    mutation($title: String!, $artist_id: Int!) {\n        addSong(title: $title, artist_id: $artist_id){\n            title\n            id\n        }\n    }\n"]);return g=function(){return e},e}function p(){var e=Object(v.a)(["\n    mutation($name: String!, $artist_cover: String!) {\n        addArtist(name: $name, artist_cover: $artist_cover){\n            name\n            id\n            artist_cover\n        }\n    }\n"]);return p=function(){return e},e}function h(){var e=Object(v.a)(["\n    {\n        songs {\n            title\n            artist{\n                name\n                artist_cover\n            }\n        }\n    }\n"]);return h=function(){return e},e}function N(){var e=Object(v.a)(["\n    query Artist($name: String!){\n        artist(name: $name){\n            name\n            artist_cover\n            id\n            songs{\n                title\n            }\n        }\n    }\n"]);return N=function(){return e},e}function j(){var e=Object(v.a)(["\n    {\n        artist{\n            name\n            songs{\n                title\n            }\n        }\n    }\n"]);return j=function(){return e},e}function O(){var e=Object(v.a)(["\n    query Song($title: String!){\n        song(title: $title) {\n            title\n            id\n            verses{\n                content\n                position\n                id\n                interpretations{\n                    content\n                    likes\n                    id\n                }\n            }\n            artist{\n                name\n                artist_cover\n            }\n        }\n    }\n"]);return O=function(){return e},e}var y=Object(s.b)(O()),S=Object(s.b)(j()),k=Object(s.b)(N()),w=Object(s.b)(h()),$=Object(s.b)(p()),_=Object(s.b)(g()),D=Object(s.b)(f()),I=Object(s.b)(E()),A=Object(s.b)(b());a(52);var C=function(){return r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},r.a.createElement("p",null,"Search lyrics to your favourite songs")),r.a.createElement("img",{src:"/right_arrow.svg",alt:"right arrow",className:"right-arrow"}),r.a.createElement("div",{className:"instruction"},r.a.createElement("p",null,"Read interpretations to lyrics")),r.a.createElement("img",{src:"/right_arrow.svg",alt:"right arrow",className:"right-arrow"}),r.a.createElement("div",{className:"instruction"},r.a.createElement("p",null,"Add your own interpretations to lyrics")))};var x=function(){return r.a.createElement("div",{className:"instructions-div"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"How It Works")),r.a.createElement(C,null))};var L=function(){return r.a.createElement("div",{className:"album-div"},r.a.createElement("div",{className:"album-cover-div"},r.a.createElement("img",{className:"album-cover",src:"roddy_ricch.jpeg"})),r.a.createElement("div",{className:"album-cover-div"},r.a.createElement("img",{className:"album-cover",src:"SZA.png"})),r.a.createElement("div",{className:"album-cover-div"},r.a.createElement("img",{className:"album-cover",src:"daniel_caesar.jpg"})),r.a.createElement("div",{className:"album-cover-div"},r.a.createElement("img",{className:"album-cover",src:"sabrina_claudio.png"})))};var Q=function(){return r.a.createElement("div",{className:"latest-release"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Latest release")),r.a.createElement(L,null))};var q=function(e){var t=Object(d.b)(w),a=t.loading,n=t.error,c=t.data;if(n)return r.a.createElement("p",null,"Error");if(a||!c)return r.a.createElement("p",null,"Loading...");var l=c.songs.map((function(t,a){return r.a.createElement("tr",{key:a,onClick:function(){e.getSong(t.title)}},r.a.createElement("th",{scope:"row"},a),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.artist[0].name),r.a.createElement("td",null,r.a.createElement("img",{src:t.artist[0].artist_cover,className:"artist-cover"})))}));return r.a.createElement("table",{className:"table table-hover table-responsive-md lyrics-table"},r.a.createElement("tbody",null,l))};var F=function(e){return r.a.createElement("div",{className:"lyrics-addition-div"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Recent lyrics")),r.a.createElement("div",null,r.a.createElement(q,{getSong:e.getSong})))};a(53);var H=function(e){var t=e.songData,a=t.artist[0].name,n=t.artist[0].artist_cover,c=t.title;return r.a.createElement("div",{className:"artist-banner"},r.a.createElement("img",{src:n,className:"artist-img",alt:"artist"}),r.a.createElement("div",{className:"artist-info"},r.a.createElement("h2",{className:"song-title"},c),r.a.createElement("h3",{className:"artist-name"},a)))};var P=function(e){for(var t=e.songData.verses,a=[],n=0;n<t.length;n++){a[t[n].position]=[t[n].content,t[n].id]}var c=a.map((function(t,a){var n=t[0],c=t[1],l=n.split(".").map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))}));return r.a.createElement("div",{className:"verse-para",key:a,onClick:function(){e.showInterpretations(c)}},l)}));return r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"all-lyrics"},c))};var R=function(e){var t=e.verseIndex,a=e.songData.title,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],o=l[1],m=Object(d.a)(I),u=Object(i.a)(m,1)[0];return r.a.createElement("form",{className:"add-interpretation-form"},r.a.createElement("textarea",{className:"form-control add-interpretation-input",type:"search",placeholder:"Add your own interpretations","aria-label":"Search",onChange:function(e){o(e.target.value)}}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0 search-btn add-interpretation-btn",type:"submit",onClick:function(e){!function(e){e.preventDefault(),u({variables:{content:s,likes:0,verse_id:t},refetchQueries:[{query:y,variables:{title:a}}],awaitRefetchQueries:!0}).then((function(e){console.log(e),o("")}))}(e)}},"Add Interpretation"))};var B=function(e){var t=e.content,a=e.likes,n=e.id,c=e.title;console.log(c),console.log(a);var l=Object(d.a)(A),s=Object(i.a)(l,1)[0];return r.a.createElement("div",{className:"single-interpretation-div"},r.a.createElement("p",{className:"single-interpretation-content"},t),r.a.createElement("img",{src:"heart.svg",className:"likes-img",onClick:function(e){!function(e){e.preventDefault(),s({variables:{likes:a+1,id:n},refetchQueries:[{query:y,variables:{title:"".concat(c)}}],awaitRefetchQueries:!0})}(e)}}),r.a.createElement("p",{className:"single-interpretation-likes"},a))};var T=function(e){for(var t,a=e.songData,n=e.verseIndex,c=a.verses,l=a.title,i=[],s=0;s<c.length;s++)n===c[s].id&&(i=c[s].interpretations);if(i.length>1){t=i;for(s=0;s<i.length;s++){var o=i[s],m=void 0;for(m=s-1;m>=0&&i[m].likes<o.likes;m--)t[m+1]=i[m];t[m+1]=o}}else t=i;var u=t.map((function(e,t){var a=e.content,n=e.likes,c=e.id;return r.a.createElement(B,{key:t,content:a,likes:n,id:c,title:l})}));return r.a.createElement("div",null,u)};var W=function(e){var t,a=e.songData.title,n=Object(d.b)(y,{variables:{title:a}}),c=(n.loading,n.error,n.data);if(n.refetch,"number"===typeof e.verseIndex){var l=c.song,i=e.verseIndex;t=r.a.createElement("div",null,r.a.createElement(R,{songData:l,verseIndex:i}),r.a.createElement(T,{songData:l,verseIndex:i}))}return r.a.createElement("div",{className:"col-md-6"},t)};var J=function(e){var t=e.songData,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement(H,{songData:e.songData}),r.a.createElement("div",{className:"container lyrics-container"},r.a.createElement("div",{className:"row"},r.a.createElement(P,{songData:t,showInterpretations:function(e){s(e)}}),r.a.createElement(W,{songData:t,verseIndex:l}))))};var V=function(e){return r.a.createElement("div",{className:"no-song"},r.a.createElement("p",{className:"no-song-header"},"Whoops we don't know the lyrics to that one"),r.a.createElement("img",{className:"no-song-img",src:"https://media2.giphy.com/media/SG7BQND0ubI6k/giphy.gif?cid=ecf05e47c2aa20adc03c9af445dd0623142c7331f81cf15c&rid=giphy.gif"}),r.a.createElement("p",null,"Help us add the lyrics if you know them!"))};var G=function(e){var t,a=Object(n.useState)(null),c=Object(i.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(!1),m=Object(i.a)(o,2),u=(m[0],m[1],Object(d.b)(y,{variables:{title:l}})),v=(u.loading,u.error,u.data),b=(u.refetch,v);if(e.songData){if(b){var E=v.song;t=r.a.createElement(J,{songData:E})}else if(0===e.songData.length)t=r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement(Q,null),r.a.createElement(F,{getSong:function(e){s(e)}}));else if("song"in e.songData){var f=e.songData.song;t=r.a.createElement(J,{songData:f})}}else t=r.a.createElement(V,null);return r.a.createElement("div",null,t)};var U=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(d.b)(y,{variables:{title:c}}),o=(s.loading,s.error,s.data);return s.refetch,r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{className:"form-control mr-sm-2 search-bar",type:"search",placeholder:"Search Lyrics","aria-label":"Search",onChange:function(e){l(e.target.value)}}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0 search-btn",type:"submit",onClick:function(t){!function(t){t.preventDefault(),e.showSong(o)}(t)}},"Search"))};var Z=function(e){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(m.b,{className:"navibar",to:"/",onClick:function(){e.homePageClick()}},"Home")),r.a.createElement("div",null,r.a.createElement(U,{showSong:e.showSong})),r.a.createElement("div",null,r.a.createElement(m.b,{className:"navibar",to:"/addlyrics"},"Add Lyrics")))};var z=function(){return r.a.createElement("footer",{className:"footer-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row footer-div"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Links"),r.a.createElement("p",null,"FAQ"),r.a.createElement("p",null,"Help"),r.a.createElement("p",null,"Support")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Social"),r.a.createElement("p",null,"Facebook"),r.a.createElement("p",null,"Twitter"),r.a.createElement("p",null,"Linkedin")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Blog"),r.a.createElement("p",null,"About Us"),r.a.createElement("p",null,"Contact")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Legal"),r.a.createElement("p",null,"Terms"),r.a.createElement("p",null,"Privacy")))))};a(58);var K=function(e){var t,a,n,c;if("artist"in e.data){var l=e.data.artist;t=l.name,n=l.songs.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},t),r.a.createElement("td",null,e.title))})),a=r.a.createElement("table",{className:"table artist-song-table"},r.a.createElement("tbody",null,n)),c=r.a.createElement("button",{className:"btn new-song-btn",onClick:function(){e.addLyrics()}},"Add Song")}return r.a.createElement("div",null,r.a.createElement("h3",null,t),c,a)},M=a(43);var X=function(e){var t=e.data.name,a=e.data.artist_cover,c=parseInt(e.data.id);console.log(e);var l=Object(n.useState)(""),s=Object(i.a)(l,2),o=s[0],m=s[1],u=Object(n.useState)([0]),v=Object(i.a)(u,2),b=v[0],E=v[1],f=Object(d.a)(_),g=Object(i.a)(f,1)[0],p=Object(d.a)(D),h=Object(i.a)(p,1)[0],N=b.map((function(e,t){return r.a.createElement("textarea",{key:t,className:"form-control input-field",onChange:function(e){!function(e,t){var a=e.target.value,n=b.map((function(e,n){return n===t?a:e}));E(n)}(e,t)},placeholder:"Lyrics here. Add a new verse whenever you think it deserves its own set of interpretations"})}));return r.a.createElement("div",null,r.a.createElement("img",{src:a,className:"artist-image"}),r.a.createElement("h3",{className:"artist-name"},t),r.a.createElement("form",{className:"lyrics-form text-center",onSubmit:function(e){!function(e){e.preventDefault(),g({variables:{title:o,artist_id:c}}).then((function(e){var t=parseInt(e.data.addSong.id),a=[];b.forEach((function(e,n){a.push(h({variables:{content:e,position:n,song_id:t}}))})),Promise.all(a).then((function(){window.location="/"})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}(e)}},r.a.createElement("input",{className:"form-control input-field",placeholder:"Song Title",onChange:function(e){return m(e.target.value)}}),N,r.a.createElement("button",{type:"button",className:"btn verse-btn mx-auto",onClick:function(){return E([].concat(Object(M.a)(b),[b.length]))}},"New Verse"),r.a.createElement("button",{type:"submit",className:"btn verse-btn mx-auto"},"Submit")))};var Y=function(e){var t,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(!1),m=Object(i.a)(o,2),u=(m[0],m[1],Object(n.useState)({})),v=Object(i.a)(u,2),b=v[0],E=v[1],f=Object(n.useState)(!1),g=Object(i.a)(f,2),p=g[0],h=g[1],N=Object(d.b)(k,{variables:{name:l}}),j=N.loading,O=N.error,y=N.data,S=r.a.createElement(K,{data:b,addLyrics:function(){h(!p)}});return p?p&&(t=r.a.createElement(X,{data:b.artist})):t=r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Find from existing artists")),r.a.createElement("button",{className:"btn new-artist-btn",onClick:function(){e.addNewArtist()}},"Add new Artist"),r.a.createElement("form",{className:"lyrics-form"},r.a.createElement("input",{className:"form-control input-field",placeholder:"Artist",onChange:function(e){s(e.target.value)}}),r.a.createElement("button",{className:"btn find-artist-btn",onClick:function(e){e.preventDefault(),O&&(S=r.a.createElement("p",null,"Whoops got an error Fetching")),!j&&y||(S=r.a.createElement("p",null,"Loading...")),E(y)}},"Find Artist")),S),r.a.createElement("div",null,t)};var ee=function(){var e,t=Object(n.useState)([0]),a=Object(i.a)(t,2),c=(a[0],a[1],Object(n.useState)("")),l=Object(i.a)(c,2),s=l[0],o=l[1],m=Object(n.useState)(""),u=Object(i.a)(m,2),v=u[0],b=u[1],E=Object(n.useState)(!1),f=Object(i.a)(E,2),g=(f[0],f[1],Object(n.useState)({})),p=Object(i.a)(g,2),h=p[0],N=p[1];if("data"in h){if("data"in h){var j=h.data.addArtist;e=r.a.createElement(X,{data:j})}}else e=r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Add a new Artist")),r.a.createElement("form",{className:"lyrics-form text-center",onSubmit:function(e){S(e)}},r.a.createElement("input",{className:"form-control input-field",placeholder:"Artist",onChange:function(e){return o(e.target.value)}}),r.a.createElement("input",{className:"form-control input-field",placeholder:"Artist Cover Image link",onChange:function(e){return b(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn verse-btn mx-auto"},"Submit")));var O=Object(d.a)($),y=Object(i.a)(O,1)[0],S=function(e){e.preventDefault(),y({variables:{name:s,artist_cover:v}}).then((function(e){N(e)})).catch((function(e){console.error(e)}))};return r.a.createElement("div",null,e)};var te=function(){var e,t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],l=a[1];e=c?r.a.createElement(ee,null):r.a.createElement(Y,{addNewArtist:function(){l(!c)}});var s=Object(d.b)(S),o=s.loading,m=s.error,u=s.data;return m?r.a.createElement("p",null,"Error"):o||!u?r.a.createElement("p",null,"Loading..."):(console.log(u),r.a.createElement("div",{className:"addlyrics-div"},e))},ae=new s.a({uri:"http://localhost:4000/graphql"});var ne=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(o.a,{client:ae},r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(Z,{showSong:function(e){c(e)},homePageClick:function(){c([])}}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/addlyrics"},r.a.createElement(te,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(G,{songData:a}))),r.a.createElement(z,null))))};l.a.render(r.a.createElement(ne,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.0b39e1c9.chunk.js.map