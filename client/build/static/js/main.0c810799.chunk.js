(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,a){},44:function(e,t,a){e.exports=a(59)},49:function(e,t,a){},50:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(37),c=a.n(l),i=(a(49),a(4)),s=(a(29),a(10)),o=a(13),m=a(24),u=a(6);a(50);var d=function(){return r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},r.a.createElement("p",null,"Search lyrics to your favourite songs")),r.a.createElement("img",{src:"/right_arrow.svg",alt:"right arrow",className:"right-arrow"}),r.a.createElement("div",{className:"instruction"},r.a.createElement("p",null,"Read interpretations to lyrics")),r.a.createElement("img",{src:"/right_arrow.svg",alt:"right arrow",className:"right-arrow"}),r.a.createElement("div",{className:"instruction"},r.a.createElement("p",null,"Add your own interpretations to lyrics")))};var v=function(){return r.a.createElement("div",{className:"instructions-div"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"How It Works")),r.a.createElement(d,null))};var b=function(){return r.a.createElement("div",{className:"album-div"},r.a.createElement("div",{className:"album-cover-div"},r.a.createElement("img",{className:"album-cover",src:"roddy_ricch.jpeg"})),r.a.createElement("div",{className:"album-cover-div"},r.a.createElement("img",{className:"album-cover",src:"SZA.png"})),r.a.createElement("div",{className:"album-cover-div"},r.a.createElement("img",{className:"album-cover",src:"daniel_caesar.jpg"})),r.a.createElement("div",{className:"album-cover-div"},r.a.createElement("img",{className:"album-cover",src:"sabrina_claudio.png"})))};var E=function(){return r.a.createElement("div",{className:"latest-release"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Latest release")),r.a.createElement(b,null))},f=a(7),g=a(19);function p(){var e=Object(g.a)(["\n    mutation($likes: Int! $id: Int!) {\n        updateLikes(likes: $likes, id: $id){\n            likes\n            id\n        }\n    }\n"]);return p=function(){return e},e}function h(){var e=Object(g.a)(["\n    mutation($content: String!, $likes: Int! $verse_id: Int!) {\n        addInterpretation(content: $content, likes: $likes, verse_id: $verse_id){\n            content\n            likes\n            id\n        }\n    }\n"]);return h=function(){return e},e}function N(){var e=Object(g.a)(["\n    mutation($content: String!, $position: Int!, $song_id: Int!) {\n        addVerse(content: $content, position: $position, song_id: $song_id){\n            content\n            position\n            id\n        }\n    }\n"]);return N=function(){return e},e}function j(){var e=Object(g.a)(["\n    mutation($title: String!, $artist_id: Int!) {\n        addSong(title: $title, artist_id: $artist_id){\n            title\n            id\n        }\n    }\n"]);return j=function(){return e},e}function O(){var e=Object(g.a)(["\n    mutation($name: String!, $artist_cover: String!) {\n        addArtist(name: $name, artist_cover: $artist_cover){\n            name\n            id\n            artist_cover\n        }\n    }\n"]);return O=function(){return e},e}function y(){var e=Object(g.a)(["\n    {\n        songs {\n            title\n            artist{\n                name\n                artist_cover\n            }\n        }\n    }\n"]);return y=function(){return e},e}function k(){var e=Object(g.a)(["\n    query Artist($name: String!){\n        artist(name: $name){\n            name\n            artist_cover\n            id\n            songs{\n                title\n            }\n        }\n    }\n"]);return k=function(){return e},e}function S(){var e=Object(g.a)(["\n    {\n        artist{\n            name\n            songs{\n                title\n            }\n        }\n    }\n"]);return S=function(){return e},e}function w(){var e=Object(g.a)(["\n    query Song($title: String!){\n        song(title: $title) {\n            title\n            id\n            verses{\n                content\n                position\n                id\n                interpretations{\n                    content\n                    likes\n                    id\n                }\n            }\n            artist{\n                name\n                artist_cover\n            }\n        }\n    }\n"]);return w=function(){return e},e}var $=Object(s.b)(w()),_=Object(s.b)(S()),D=Object(s.b)(k()),I=Object(s.b)(y()),A=Object(s.b)(O()),C=Object(s.b)(j()),x=Object(s.b)(N()),L=Object(s.b)(h()),q=Object(s.b)(p());var F=function(){var e=Object(f.b)(I),t=e.loading,a=e.error,n=e.data;if(a)return r.a.createElement("p",null,"Error");if(t||!n)return r.a.createElement("p",null,"Loading...");var l=n.songs.map((function(e,t){return r.a.createElement("tr",{key:t,onClick:function(){console.log("clicking")}},r.a.createElement("th",{scope:"row"},t),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.artist[0].name),r.a.createElement("td",null,r.a.createElement("img",{src:e.artist[0].artist_cover,className:"artist-cover"})))}));return r.a.createElement("table",{className:"table table-hover table-responsive-md lyrics-table"},r.a.createElement("tbody",null,l))};var Q=function(){return r.a.createElement("div",{className:"lyrics-addition-div"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Recent lyrics")),r.a.createElement("div",null,r.a.createElement(F,null)))};a(53);var P=function(e){var t=e.songData,a=t.artist[0].name,n=t.artist[0].artist_cover,l=t.title;return r.a.createElement("div",{className:"artist-banner"},r.a.createElement("img",{src:n,className:"artist-img",alt:"artist"}),r.a.createElement("div",{className:"artist-info"},r.a.createElement("h2",{className:"song-title"},l),r.a.createElement("h3",{className:"artist-name"},a)))};var R=function(e){for(var t=e.songData.verses,a=[],n=0;n<t.length;n++){a[t[n].position]=[t[n].content,t[n].id]}var l=a.map((function(t,a){var n=t[0],l=t[1],c=n.split(".").map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))}));return r.a.createElement("div",{className:"verse-para",key:a,onClick:function(){e.showInterpretations(l)}},c)}));return r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"all-lyrics"},l))};var H=function(e){var t=e.verseIndex,a=e.songData.title,l=Object(n.useState)(""),c=Object(i.a)(l,2),s=c[0],o=c[1],m=Object(f.a)(L),u=Object(i.a)(m,1)[0];return r.a.createElement("form",{className:"add-interpretation-form"},r.a.createElement("textarea",{className:"form-control add-interpretation-input",type:"search",placeholder:"Add your own interpretations","aria-label":"Search",onChange:function(e){o(e.target.value)}}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0 search-btn add-interpretation-btn",type:"submit",onClick:function(e){!function(e){e.preventDefault(),u({variables:{content:s,likes:0,verse_id:t},refetchQueries:[{query:$,variables:{title:a}}],awaitRefetchQueries:!0}).then((function(e){console.log(e)}))}(e)}},"Add Interpretation"))};var T=function(e){var t=e.content,a=e.likes,n=e.id,l=e.title;console.log(l),console.log(a);var c=Object(f.a)(q),s=Object(i.a)(c,1)[0];return r.a.createElement("div",{className:"single-interpretation-div"},r.a.createElement("p",{className:"single-interpretation-content"},t),r.a.createElement("img",{src:"heart.svg",className:"likes-img",onClick:function(e){!function(e){e.preventDefault(),s({variables:{likes:a+1,id:n},refetchQueries:[{query:$,variables:{title:"".concat(l)}}],awaitRefetchQueries:!0})}(e)}}),r.a.createElement("p",{className:"single-interpretation-likes"},a))};var B=function(e){for(var t,a,n=e.songData,l=e.verseIndex,c=n.verses,i=n.title,s=0;s<c.length;s++)l===c[s].id&&(t=c[s].interpretations);if(t.length>1){a=t;for(s=0;s<t.length;s++){var o=t[s],m=void 0;for(m=s-1;m>=0&&t[m].likes<o.likes;m--)a[m+1]=t[m];a[m+1]=o}}else a=t;var u=a.map((function(e,t){var a=e.content,n=e.likes,l=e.id;return r.a.createElement(T,{key:t,content:a,likes:n,id:l,title:i})}));return r.a.createElement("div",null,u)};var J=function(e){var t,a=e.songData.title,n=Object(f.b)($,{variables:{title:a}}),l=(n.loading,n.error,n.data);if(n.refetch,"number"===typeof e.verseIndex){var c=l.song,i=e.verseIndex;c.verses[i].interpretations;t=r.a.createElement("div",null,r.a.createElement(H,{songData:c,verseIndex:i}),r.a.createElement(B,{songData:c,verseIndex:i}))}return r.a.createElement("div",{className:"col-md-6"},t)};var V=function(e){var t=e.songData,a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],s=l[1];return r.a.createElement("div",null,r.a.createElement(P,{songData:e.songData}),r.a.createElement("div",{className:"container lyrics-container"},r.a.createElement("div",{className:"row"},r.a.createElement(R,{songData:t,showInterpretations:function(e){s(e)}}),r.a.createElement(J,{songData:t,verseIndex:c}))))};var W=function(e){var t;if(0===e.songData.length)t=r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement(E,null),r.a.createElement(Q,null));else if("song"in e.songData){var a=e.songData.song;t=r.a.createElement(V,{songData:a})}return r.a.createElement("div",null,t)};var U=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),l=a[0],c=a[1],s=Object(f.b)($,{variables:{title:l}}),o=(s.loading,s.error,s.data);return s.refetch,r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{className:"form-control mr-sm-2 search-bar",type:"search",placeholder:"Search Lyrics","aria-label":"Search",onChange:function(e){c(e.target.value)}}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0 search-btn",type:"submit",onClick:function(t){!function(t){t.preventDefault(),e.showSong(o)}(t)}},"Search"))};var Z=function(e){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(m.b,{className:"navibar",to:"/",onClick:function(){e.homePageClick()}},"Home")),r.a.createElement("div",null,r.a.createElement(U,{showSong:e.showSong})),r.a.createElement("div",null,r.a.createElement(m.b,{className:"navibar",to:"/addlyrics"},"Add Lyrics")))};var z=function(){return r.a.createElement("footer",{className:"footer-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row footer-div"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Links"),r.a.createElement("p",null,"FAQ"),r.a.createElement("p",null,"Help"),r.a.createElement("p",null,"Support")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Social"),r.a.createElement("p",null,"Facebook"),r.a.createElement("p",null,"Twitter"),r.a.createElement("p",null,"Linkedin")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Blog"),r.a.createElement("p",null,"About Us"),r.a.createElement("p",null,"Contact")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h4",null,"Legal"),r.a.createElement("p",null,"Terms"),r.a.createElement("p",null,"Privacy")))))};a(58);var G=function(e){var t,a,n,l;if("artist"in e.data){var c=e.data.artist;t=c.name,n=c.songs.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},t),r.a.createElement("td",null,e.title))})),a=r.a.createElement("table",{className:"table artist-song-table"},r.a.createElement("tbody",null,n)),l=r.a.createElement("button",{className:"btn new-song-btn",onClick:function(){e.addLyrics()}},"Add Song")}return r.a.createElement("div",null,r.a.createElement("h3",null,t),l,a)},K=a(43);var M=function(e){var t=e.data.name,a=e.data.artist_cover,l=parseInt(e.data.id);console.log(e);var c=Object(n.useState)(""),s=Object(i.a)(c,2),o=s[0],m=s[1],u=Object(n.useState)([0]),d=Object(i.a)(u,2),v=d[0],b=d[1],E=Object(f.a)(C),g=Object(i.a)(E,1)[0],p=Object(f.a)(x),h=Object(i.a)(p,1)[0],N=v.map((function(e,t){return r.a.createElement("textarea",{key:t,className:"form-control input-field",onChange:function(e){!function(e,t){var a=e.target.value,n=v.map((function(e,n){return n===t?a:e}));b(n)}(e,t)},placeholder:"Lyrics here. Add a new verse whenever you think it deserves its own set of interpretations"})}));return r.a.createElement("div",null,r.a.createElement("img",{src:a,className:"artist-image"}),r.a.createElement("h3",{className:"artist-name"},t),r.a.createElement("form",{className:"lyrics-form text-center",onSubmit:function(e){!function(e){e.preventDefault(),g({variables:{title:o,artist_id:l}}).then((function(e){var t=parseInt(e.data.addSong.id),a=[];v.forEach((function(e,n){a.push(h({variables:{content:e,position:n,song_id:t}}))})),Promise.all(a).then((function(){window.location="/"})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}(e)}},r.a.createElement("input",{className:"form-control input-field",placeholder:"Song Title",onChange:function(e){return m(e.target.value)}}),N,r.a.createElement("button",{type:"button",className:"btn verse-btn mx-auto",onClick:function(){return b([].concat(Object(K.a)(v),[v.length]))}},"New Verse"),r.a.createElement("button",{type:"submit",className:"btn verse-btn mx-auto"},"Submit")))};var X=function(e){var t,a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(!1),m=Object(i.a)(o,2),u=(m[0],m[1],Object(n.useState)({})),d=Object(i.a)(u,2),v=d[0],b=d[1],E=Object(n.useState)(!1),g=Object(i.a)(E,2),p=g[0],h=g[1],N=Object(f.b)(D,{variables:{name:c}}),j=N.loading,O=N.error,y=N.data,k=r.a.createElement(G,{data:v,addLyrics:function(){h(!p)}});return p?p&&(t=r.a.createElement(M,{data:v.artist})):t=r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Find from existing artists")),r.a.createElement("button",{className:"btn new-artist-btn",onClick:function(){e.addNewArtist()}},"Add new Artist"),r.a.createElement("form",{className:"lyrics-form"},r.a.createElement("input",{className:"form-control input-field",placeholder:"Artist",onChange:function(e){s(e.target.value)}}),r.a.createElement("button",{className:"btn find-artist-btn",onClick:function(e){e.preventDefault(),O&&(k=r.a.createElement("p",null,"Whoops got an error Fetching")),!j&&y||(k=r.a.createElement("p",null,"Loading...")),b(y)}},"Find Artist")),k),r.a.createElement("div",null,t)};var Y=function(){var e,t=Object(n.useState)([0]),a=Object(i.a)(t,2),l=(a[0],a[1],Object(n.useState)("")),c=Object(i.a)(l,2),s=c[0],o=c[1],m=Object(n.useState)(""),u=Object(i.a)(m,2),d=u[0],v=u[1],b=Object(n.useState)(!1),E=Object(i.a)(b,2),g=(E[0],E[1],Object(n.useState)({})),p=Object(i.a)(g,2),h=p[0],N=p[1];if("data"in h){if("data"in h){var j=h.data.addArtist;e=r.a.createElement(M,{data:j})}}else e=r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Add a new Artist")),r.a.createElement("form",{className:"lyrics-form text-center",onSubmit:function(e){k(e)}},r.a.createElement("input",{className:"form-control input-field",placeholder:"Artist",onChange:function(e){return o(e.target.value)}}),r.a.createElement("input",{className:"form-control input-field",placeholder:"Artist Cover Image link",onChange:function(e){return v(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn verse-btn mx-auto"},"Submit")));var O=Object(f.a)(A),y=Object(i.a)(O,1)[0],k=function(e){e.preventDefault(),y({variables:{name:s,artist_cover:d}}).then((function(e){N(e)})).catch((function(e){console.error(e)}))};return r.a.createElement("div",null,e)};var ee=function(){var e,t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],c=a[1];e=l?r.a.createElement(Y,null):r.a.createElement(X,{addNewArtist:function(){c(!l)}});var s=Object(f.b)(_),o=s.loading,m=s.error,u=s.data;return m?r.a.createElement("p",null,"Error"):o||!u?r.a.createElement("p",null,"Loading..."):(console.log(u),r.a.createElement("div",{className:"addlyrics-div"},e))},te=new s.a({uri:"http://localhost:4000/graphql"});var ae=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement(o.a,{client:te},r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(Z,{showSong:function(e){l(e)},homePageClick:function(){l([])}}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/addlyrics"},r.a.createElement(ee,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(W,{songData:a}))),r.a.createElement(z,null))))};c.a.render(r.a.createElement(ae,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.0c810799.chunk.js.map